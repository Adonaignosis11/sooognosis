<para> 

  Rendering in AMIDE is accomplished via the volpack rendering
  library.  The rendering performed is volume rendering, which is a
  more computationally expensive approach than the surface rendering
  abilities of most other packages.

</para>
<para>

  To start a rendering dialog, select the images that you would like
  to render, and then hit the "View->Rendering" menu item.  Since the
  program needs to reslice the data set into a data structure that the
  volpack library can handle, you need to decide if you want to use a
  nearest neighbor (Fast, lower quality) or trilinear (Slow, higher
  quality) interpolation.  The program will then reslice the data set
  and perform some initial rendering calculations which are used to
  speed up later renderings.  This whole process will take some time,
  so be patient.  Please also note that, when converting the data set,
  the data is scaled between the current minimum and maximum
  threshold, with all data above the current maximum threshold set to
  the maximum threshold value, and all data below the current minimum
  threshold set to the minimum threshold value.

</para>
<para>

  When this is completed, the rendering dialog should pop-up.  It's
  use is described below.

</para>

<sect1><title>Rendering Dialog</title>

  <sect2><title>Main Rendering Canvas</title>
    <para>
      The result of the rendering process is presented on the canvas
      in the center of the dialog.  This canvas can accept user input
      to change the orientation of the rendering.  Button 1 allows
      rotating on the x and y axis, and button 2 allows rotating on
      the z axis.
    </para>
  </sect2>


  <sect2><title>Spin Sliders</title>
    <para>
      You should notice two slider type widgets, one on top of the
      rendered image, and one on the right side.  These are both
      appropriately labeled with the axis around which the rendering
      will be spun if they are changed.  Additionally you should
      notice a dial widget (labeled 'z').  The dial is for rotating on
      the z axis (which comes out of the plane of the display).  Note
      that the effect of rotations are cumulative.
    </para>
  </sect2>

  <sect2><title>Axis Drawing</title>
    <para>
      A coordinate axis is displayed to the left of the rendering, for
      reminding you which way the axis are pointing.
    </para>
  </sect2>
  
  <sect2><title>Reset Axis</title>
    <para>
      This button will reset the rendering's orientation back to the
      default orientation.
    </para>
  </sect2>

  <sect2><title>"Render" Button</title>
    <para>
      This button tells the program to render the data set.  It will
      be inactive if the "on change" option has been picked.
    </para>
  </sect2>
  
  <sect2><title>"On Change" Checkbox</title>
    <para>
      If this is checked, the data set will be rerendered on every
      change.  If this is not checked, the "Render" button will have
      to be hit to cause rerendering of the data set.
    </para>
  </sect2>

  <sect2><title>"Steroscopic" Checkbox</title>
    <para>
      Checking this box will inform the rendering process to generate
      a stereoscopic image pair, rathen then just a single rendering.
      A stereoscopic image pair is a pair of images that have been
      generated at slightly different angles.  When viewed correctly,
      these two images can be interpreted by the viewer's eyes as a
      single image containing depth information.  

      If this box is checked when a movie is generated, the movie will
      consist of stereoscopic image pairs.
    </para>
  </sect2>
  

  <sect2><title>Rendering Menus</title>
    <sect3><title>File->Export Rendering</title>
      <para>
	This menu item allows you to export the rendered image to
	an external image file.  The saved data format is determined by
	the extension of the specified filename.  A large variety of
	image data formats can be saved, including JPEG [.jpg], TIFF
	[.tiff], Postscript [.ps], Encapsulated Postscript [.eps], and
	PNG [.png].  </para>
    </sect3>

    <sect3><title>File->Create Movie</title>
      <para>
	This causes the movie generation dialog box to pop up.  This
	dialog box is further described below.
      </para>
    </sect3>
  
    <sect3><title>"Edit->Rendering Parameters</title>
      <para>
	This causes the rendering parameters dialog box to pop up.
	This dialog box is described below.
      </para>
    </sect3>
  </sect2>
  
</sect1>

<sect1 id="rendering-dialog-help"><title>Rendering Parameters Dialog</title>

  <sect2 id="rendering-dialog-help-basic"><title>Basic Parameters</title>

    <sect3><title>Speed versus Quality</title>
      <para>
      With this drop-down menu, the user can choose between rendering
      speed and rendering quality.  To increase speed, voxels with
      values either close to zero or close to unity can be counted as
      completely translucent or completely opaque, respectively.  The
      highest quality doesn't use this approximation at all, the
      lowest quality setting uses this approximation big-time.
      </para>
    </sect3>

    <sect3><title>Return Type</title>
      <para>
	This setting determines whether the rendering returns an image
	which looks more analogous to an x-ray (the "opacity"
	setting), or returns an image which looks more like a surface
	(the "grayscale" setting).  The "grayscale" setting does this
	by specifying a light source, material properties, and using
	depth cueing.
      </para>
    </sect3>

    <sect3><title>Zoom</title>
      <para>
	Determines the size at which the resultant rendered image will
	be displayed.  Note that changing the zoom will not affect the
	speed of the rendering, and increasing the zoom past 1 will
	not increase the resolution of the rendered image.
      </para>
    </sect3>

    <sect3><title>Stereosopic parameters</title>

      <para>
	These parameters are used for controlling the results when the
	"stereoscopic" option has been chosen.
      </para>
      
      <sect4><title>Stereo Angle</title>
	<para>
	  This is the angle offset (in degrees) between a pair of
	  rendered images.  Increasing this number will generally give
	  a greater sensation of depth in the image pair.  A
	  Reasonable value for this parameter is between 2 and 5
	  degrees.  Note that this parameter will be saved between
	  different sessions of the program.
	</para>
      </sect4>
      
      <sect4><title>Eye Width (mm) </title>
	<para>
	  Ideally, this should be (roughly) the distance between the
	  two rendered images, and corresponds to the distance between
	  the user's eyes.  It is impossible for a person to resolve a
	  stereoscopic pair if the images are farther apart then the
	  person's eyes, since human eyes cannot move independently.
	  While this parameter is specified in millimeters, the
	  actually distance between the pair of images that gets
	  displayed on the monitor depends on the setup of the
	  computer.  If the monitor information reported by the
	  operating system is not correct (usually the case), the "eye
	  width" parameter will not be in true millimeters.  Note that
	  this parameter will be saved between different sessions of
	  the program.
	</para>
      </sect4>

    </sect3>

    <sect3><title>Depth Cueing</title>

      <para>
	These parameters are only used if the "grayscale" output type
	has been chosen.
      </para>
      
      <sect4><title>Enable/Disable Depth Cueing</title>
	<para>
	  Specify whether or not we want depth cueing.  Depth cueing
	  puts in a "fog" that causes more distant voxels to appear less
	  bright.
	</para>
      </sect4>
      
      <sect4><title>Front Factor</title>
	<para>
	  This is the transparency of the fog at the front of the
	  volume.  If this number is greater than 1.0, voxels toward the
	  front of the data set will be brightened.  If this parameter
	  is less than 1.0, voxels toward the front of the data set will
	  be darker, respectively.
	</para>
      </sect4>

      <sect4><title>Density</title>
	<para>
	  This is how thick the "fog" is.  The thicker the fog, the
	  darker distant objects seem.
	</para>
      </sect4>

    </sect3>

  </sect2>
    

  <sect2 id="rendering-dialog-help-data-set"><title>Data Set Specific Settings</title>

    <para>
      Each panel after the "basic parameters" panel allows the
      changing of settings specific to each data set that is being
      rendered.
    </para>

    <sect3><title>Color Table</title>
      <para>
	The color table of each rendered data set can be changed here.
      </para>
    </sect3>

    
    <sect3><title>Classification Functions</title>
      <para>
	This is the most confusing part of rendering, so hang on here.
	The classification functions are used to map between the value
	in each voxel and how much that voxel should be represented in
	the final rendered image.  On the x axis is the possible
	values of the different voxels.  On the y-axis is the opacity
	that will be given a voxel based on it's value.
      </para>
      <para>
	Both classification functions have several buttons on the
	right side of their graphs.  The top button allows the
	classification function to be drawn as a spline.  The second
	button allows the classification function to be drawn as a
	series of straight lines.  The third button allows the
	function to be hand-drawn.  Finally, the last button resets
	the classification function to a straight line.
      </para>
      <para>
	There are two classification functions:
      </para>

      <sect4><title>Density Dependent</title>
	<para>
	  This function tells you how opaque each voxel will be based
	  on it's current value.  In a sense, this is analogous to an
	  x-ray, where the amount of the x-rays that are absorbed in a
	  structure is related to the density of that structure. 
	  of the display.
	</para>
      </sect4>

      <sect4><title>Gradient Dependent</title>
	<para>
	  Instead of relating the density of a voxel to its opacity,
	  this function relates the gradient of a voxel (how much the
	  value changes between this voxel and it's neighbors) to its
	  opacity.  This has the effect of giving added weight to
	  surfaces. 
	</para>
      </sect4>

    </sect3>


  </sect2>

</sect1>

<sect1 id="rendering-movie-dialog-help"><title>Rendering Movie Dialog</title>

  <sect2 id="rendering-movie-dialog-help-movie"><title>Movie Parameters</title>

    <sect3><title>Frames</title>
      <para>
	How many frames should be in the MPEG1 movie.  The MPEG1
	movies generated will be set to run at 30 frames/second, so
	the default of 300 frames will give a ten second movie.
      </para>
    </sect3>

    <sect3><title>Rotations on [x,y,z] </title> 
      <para> 
	This setting determines how many times the data set will be
	rotated around the given axis over the course of the movie.
	The rotation for each frame is done in x->y->z order (rotate
	on x first, then y, then z).
      </para>
    </sect3>

    <sect3><title>Start/End Time</title> 
      <para> 
	These entries determine over which time period of the data set
	the rendered images will be drawn from.  By default, they show
	the time period over which the current rendered image is drawn
	from.  By changing these entries, a rendered movie can be made
	over time.  Note that every time a frame boundary in the data
	set is passed over, the rendering process must slice and load
	in a new frame of data.  This makes creating a rendered movie
	over time significantly slower than a movie with just
	rotations.
      </para>
    </sect3>

  </sect2>

</sect1>

  
  
  <!-- Keep this comment at the end of the file
  Local variables:
  mode: sgml
  sgml-omittag:t
  sgml-shorttag:t
  sgml-minimize-attributes:nil
  sgml-always-quote-attributes:t
  sgml-indent-step:2
  sgml-indent-data:t
  sgml-parent-document:nil
  sgml-exposed-tags:nil
  sgml-local-catalogs:nil
  sgml-local-ecat-files:nil
  End:
  -->            