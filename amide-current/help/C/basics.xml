  <para> 

  As the use of AMIDE is bound to be completely intuitive only to the
    one who wrote the program (i.e. me), this chapter will provide a
    brief overview of the basic operating theory behind the program.

  </para>
  
  <sect1><title>Components of the Display</title>

    <sect2><title>Study Window</title>
      <para>
	After starting up AMIDE, the study window will be displayed.
	A study is a collection of related objects (i.e. medical image
	data sets and regions of interest), and most of the user's
	actions will take place in this window.  There are several
	elements to this window:
      </para>

      <sect3><title>Study List</title>
	<para>
	  On the left hand side of the study window is a list of all
	  the objects in the study arranged in a tree.  Objects in the
	  study list can be selected by left clicking on the object.
	  Data set objects can additionally be made the active focus
	  of the program by clicking on the object with the middle
	  mouse button.  The active data set is noted by the small "X"
	  to the left of the data set's name.  When an action is
	  performed which cannot be performed on all selected data
	  sets (like drawing an isocontour ROI for example), the
	  active data set will be the one used.
      </para>

      <para>
	  Object modification dialog boxes can be brought up in one of
	  two ways; right clicking on the object, or hitting the
	  "Edit->>Edit Items" menu item (which will bring up
	  modification dialog boxes for the relevant selected
	  objects).  ROI's can be added by either right clicking on an
	  empty area of the study tree, or hitting the "Edit->add ROI"
	  menu item.  To delete objects, hit the "edit->delete
	  items->selected objects" menu item, which will delete the
	  currently selected objects of the specified type.
	</para>
      </sect3>

      <sect3><title>Study Canvases</title>
	<para>
	  In the middle of the study window are three canvases which
	  show three orthogonal 3-dimensional slices taken from the
	  data sets.  The thickness of the slices is determined by the
	  "thickness" widget on the right side of the study window.
	  The three canvases should be showing you transverse,
	  coronal, and sagittal sections through the medical image
	  data sets being analyzed.  Which data sets and regions of
	  interest that are displayed on the canvases are determined
	  by which of these objects are selected in the study list on
	  the left side of the screen.  Below the canvases are dials
	  for selecting where in the data set the displayed slices
	  should be taken from.  Slice location can also be changed by
	  directly clicking on the canvases.  The various mouse clicks
	  available are as followings: 
      </para>

      <sect4><title>Left Mouse Button</title>

	  <para>
	    Change the location in the data set that the slices are
	    taken from, without changing the thickness of the slices.
	  </para>
      </sect4>

      <sect4><title>Middle Mouse Button</title>

	  <para>
	    Change the location in the data set that the slices are
	    taken from, along with setting the thickness of the slices
	    to the minimum reasonable.
	  </para>
      </sect4>

      <sect4><title>Right Mouse Button</title>

	  <para>
	    Changes the thickness of the slices without changing the
	    location.
	  </para>
      </sect4>

      <sect4><title>Shift-Left Mouse Button</title> <para> This
	  combination allows shifting of the active data set in space
	  (usually used for aligning two data sets).  While holding
	  the shift key, left click (and release) on the canvas, and
	  you'll grab the active data set. You can now shift the
	  active data around on the canvas.  At this point, to enact
	  the shift, click the right button (button 3).  Any other
	  mouse button will cancel the shift action.
      </sect4>

      <sect4><title>Shift-Middle Mouse Button</title> <para> This
	  combination allows rotating of the active data set in space
	  (usually used for aligning two data sets).  While holding
	  the shift key, middle click (and release) on the canvas, and
	  you'll grab the active data set. You can now rotate the
	  active data around on the canvas.  At this point, to enact
	  the rotation, click the right button (button 3).  Any other
	  mouse button will cancel the rotation.
      </sect4>

      <sect4><title>Ctrl-Right Mouse Button</title>

	  <para>
	    This combination will place an alignment point at the current
            cursor location.  A dialog will popup for entry of the alignment
            point's name.
	  </para>
      </sect4>

    </sect3>

    <sect3><title>Toolbar</title>
      <para>
	On the top of the study window are several widgets used for
	adjusting the most commonly changed display parameters.
	Interpolation, zoom, and thickness are global
	options and will affect all displayed data sets.  Color
	table and threshold only apply to the data set that
	currently has the active focus.
      </para>
      
      <sect4><title>Interpolation</title>
	<para>
	  The user can specify what type of interpolation to use for
	  generating the slices displayed on the canvas.  Nearest
	  neighbor is faster.  Tri-linear interpolation produces
	  betterlooking images but is ~8x slower.
	</para>
      </sect4>

      <sect4><title>Viewing Mode</title>
	<para>
	  The user can switch between a single set of views
	  [transverse/coronal/sagittal] on which all data sets are
	  superimposed, or having a pair of views that are linked
	  together.
	</para>
      </sect4>
      
      <sect4><title>Threshold</title>
	<para>
	  This button will pop-up a threshold widget which can be
	  used for scaling the currently focused data set and
	  changing the colormap.  Other data sets can be thresholded
	  by either placing them as the focus or by using the data
	  set modification dialog.  The threshold dialog is
	  described below.
	</para>
      </sect4>
      
      <sect4><title>Zoom</title>
	<para>
	  This specificies how much to enlarge the canvas for
	  viewing.  AMIDE tries to make an educated guess about how
	  large the display of the data set should be.  Zoom can be
	  used in addition to that guesswork.
	</para>
      </sect4>
      
      <sect4><title>Thickness</title>
	<para>
	  Thickness specifies how deep the slices displayed on the
	  study canvas are.
	</para>
      </sect4>
      
      <sect4><title>Time Pop-up</title>
	<para>
	  This is another button to pop-up a dialog box.  The time
	  dialog box allows the user to specify the time interval
	  over which data should be displayed.
	  </para>
      </sect4>
      
      
    </sect3>
    
    
    
  </sect2>
  
    <sect2><title>Threshold Dialog</title>
    <para>
      The threshold dialog allows the threshold and colormap of the
      currently focused data set to be altered.  On top are entry
      boxes where the maximum and minimum thresholds can be entered,
      either in percent of the data set's maximum and minimum levels
      or as absolute values.  On the bottom left is a bar graph
      showing the distribution of the data set's values.  On the
      bottom right is a color scale from which the thresholds can also
      be altered.  In the middle are selectors for picking the color
      table and threshold type (described below).
   </para>

	<sect3><title>Threshold Types</title> 

	<para> Several different ways can be used for interpreting how
	the max and min threshold values are applied to the data set.
	</para>

	<variablelist> 

		<varlistentry><term>Per Slice</term>
		<listitem><para>The max and min threshold values will
		be applied in proportion to the max and min values in
		the current slice of data</para></listitem>
		</varlistentry>

		<varlistentry><term>Per Frame</term>
		<listitem><para>The max and min threshold values will
		be applied in proportion to the max and min values in
		the current frame of the data set</para></listitem>
		</varlistentry>

		<varlistentry><term>Interpolate Between Frames</term>
		<listitem><para>This threshold mode only makes sense
		for dynamic studies.  In this mode, to sets of max and
		min threshold values are specified, along with which
		frame of data each of these sets corresponds to.  For
		data frames before and include the first reference
		frame, the first set of threshold values are used.
		For data frames after and including the second
		reference frame, the second set of threshold values
		are used.  For data frames between the two reference
		frames, the max and min threshold values are derived
		by interpolating (as a function of time) between the
		two sets of thresholding values.</para></listitem>
		</varlistentry>

		<varlistentry><term>Global</term>
		<listitem><para>The max and min threshold values will
		be applied in proportion to the max and min values in
		the entire data set</para></listitem>
		</varlistentry>

	</variablelist>

      </sect3>
      
  </sect2>
  
  <sect2><title>Series View Window</title>
    <para>
      Instead of looking at three orthogonal slices through the data
      set, a series of slices (all of the same orientation) can also
      be examined.  Select: "View->Series->Space->[view]" from the
      menu to bring up the series of slices from a single frame.
      Alternatively, select: "View->Series->Time->[view]" from the
      menu to bring up a series consisting of the same data slice over
      the time period of the study.  The thickness, interpolation
      type, data sets used, and orientation of the slices are all
      determined at the time the series window is brought up, although
      the thresholds and color tables can still be altered.  A dial
      appears on the top of the window which allows moving through the
      data set.  Note that since slices are cached in memory after
      being displayed, already displayed slices do not need to be
      regenerated from the data set and reviewing these slices is
      significantly faster.
    </para>
  </sect2>


  <sect2 id="time-dialog-help"><title>Time Dialog</title>
    <para>
      The time dialog lets the user pick over which time period data
      should be displayed.  Since data sets are often composed of
      non-regular duration frames, the abstraction between the user
      interface and the underlying format of the data set has been
      dropped in this case and the user is presented with a list of
      the frames of data arranged in chronological order.  A time
      period (i.e. frame) can be selected by clicking on a list
      element.  Multiple frames can be selected by holding down the
      shift key and selecting on additional frames.  Non-contigous
      selections are not allowed.  Note that for each selected data
      set, at least one frame will be highlighted.  If the choosen
      time period does not encompose a frame for a given data set, the
      closest frame will be choosen.  Hitting the OK or Apply buttons
      will cause any changes made on this page to take effect.
    </para>
  </sect2>

  <sect2 id="data-set-dialog-help"><title>Data Set Modification Dialog Box</title>
    <para>
      To modify parameters of a data set, first select the data set in
      the study list and then right click on the data set.  The Data
      Set Modification Dialog Box will then appear.  Parameters that
      can be modified are divided into the following pages.
    </para>
    
    <sect3 id="data-set-dialog-help-basic"><title>Basic Info</title>
      <para>
	The name, type of modality, and conversion factor can be
	altered on this page.  The conversion factor is a parameter
	that is multiplied to the data set before it is used for
	viewing or quantitation.  Since the data set is in
	ECAT/MAP/abitrary scale units, the conversion factor can be
	used in order to analyze the data set in another type of
	reference unit (i.e. Percent Injected Dose [%ID]).  Hitting
	the OK or Apply buttons will cause any changes made on this
	page to take effect.
      </para>
    </sect3>
    
    <sect3 id="data-set-dialog-help-center-dimensions"><title>Center/Dimensions</title>
      <para>
	The data set can be shifted by respecifing the center of the
	data set with respect to the origin.  The x, y, and z
	dimensions are in millimeters.  Being able to change the
	center of the data set is useful for manually aligning
	multiple data sets.  The size of the data set's voxels (again,
	in millimeters) can also be altered on this page.  The "keep
	aspect ratio" button specifies that when altering the size of
	any voxel component (x, y, or z), the relative sizes between
	the components should be kept the same.  Hitting the OK or
	Apply buttons will cause any changes made on this page to take
	effect. </para>
    </sect3>

    <sect3 id="data-set-dialog-help-rotate"><title>Rotate</title>
      <para>
	The data set can be rotated around its center in this page.
	This comes in useful when the data set doesn't quite line-up
	with the transverse/coronal/sagittal planes.  There is one
	dial for each of the three slice planes.  The transverse dial
	will spin the data set in the transverse plane (i.e. rotate on
	the z-axis).  The coronal dial will spin the data set in the
	coronal plane (i.e. rotate on the y-axis).  And the sagittal
	dial will spin the data set in the sagittal plane (i.e. rotate
	on the x-axis).  The "reset to default" button allows the data
	set to be rotated back to it's initial orientation.  On the
	bottom of this page is a matrix showing the coordinate frame
	of the data set with respect to the base coordinate frame.
	Hitting the OK or Apply buttons will cause any changes made on
	this page to take effect. </para>
    </sect3>
    
    <sect3 id="data-set-dialog-help-colormap-threshold"><title>Colormap/Threshold</title>
      <para>
	This page is analogous to the threshold dialog (described
	above).  Any changes made on this page are immediately
	carried out.
      </para>
    </sect3>
    
    <sect3 id="data-set-dialog-help-time"><title>Time</title>
      <para>
	From this page, the timing information of the data set can be
	altered.  Scan start time can be used for altering the start
	time of the scan with respect to other data sets.  Corrections
	in the duration of each data frame can also be made on this
	page.  Hitting the OK or Apply buttons will cause any changes
	made on this page to take effect. </para>
    </sect3>

    <sect3 id="data-set-dialog-help-immutables"><title>Immutables</title>
      <para>
	This panel lists information about the data set that cannot be
	altered.  The underlying internal data format of the data set
	and the data set dimensions in voxels are displayed on this
	page.
	</para>
    </sect3>

  </sect2>
  

  <sect2 id="roi-dialog-help"><title>Region of Interest Modification Dialog Box</title>
    <para>
      To modify parameters of an ROI, first select the ROI in the
      study list and then right click on the data set.  The ROI
      Modification Dialog Box will then appear.  Parameters that can
      be modified are divided into the following pages.
    </para>

    <sect3 id="roi-dialog-help-basic"><title>Basic Info</title>
      <para>
	The name and type of ROI can be altered on this page.
	Hitting the OK or Apply buttons will cause any changes made
	on this page to take effect.
      </para>
    </sect3>
    
    <sect3  id="roi-dialog-helpcenter"><title>Center</title>
      <para>
	The center of the ROI can be shifted with respect to the
	origin on this page.  The x, y, and z parameters are in
	millimeters Hitting the OK or Apply buttons will cause any
	changes made on this page to take effect. </para>
    </sect3>
    
    <sect3  id="roi-dialog-help-dimensions"><title>Dimensions</title>
      <para>
	The size of the ROI can be altered from this page.  The x',
	y', and z' dimensions are in millimeters and are orientated
	with respect to the ROI.  Hitting the OK or Apply buttons
	will cause any changes made on this page to take
	effect. </para>
    </sect3>
    
    <sect3 id="roi-dialog-help-rotate"><title>Rotate</title>
      <para>
	The ROI can be rotated around its center in this page.  There
	is one dial for each of the three slice planes.  The
	transverse dial will spin the ROI in the transverse plane
	(i.e. rotate on the z-axis).  The coronal dial will spin the
	ROI in the coronal plane (i.e. rotate on the y-axis).  And the
	sagittal dial will spin the ROI in the sagittal plane
	(i.e. rotate on the x-axis).  The "reset to default" button
	allows the ROI to be rotated back to it's initial orientation.
	On the bottom of this page is a matrix showing the coordinate
	frame of the ROI with respect to the base coordinate frame.
	Hitting the OK or Apply buttons will cause any changes made on
	this page to take effect. </para>
    </sect3>

  </sect2>

  <sect2 id="preferences-dialog-help"><title>Preferences Dialog Box</title>
    <para>
      This dialog box allows you to change preferences as to how
      things in AMIDE are displayed.  These preferences will be saved
      in a configuration file for use by future AMIDE sessions.
    </para>
    
    <sect3 id="preferences-dialog-help-roi"><title>ROI Drawing Preferences</title>
      <para>
	The width and style of the lines used to draw ROIs can be
	altered here.  The width can be set between 1 and 5.  The line
	style can be set to solid, on/off (dashes with translucent
	bands), and double dashed (dashed with black bands).
      </para>
    </sect3>

    <sect3 id="preferences-dialog-help-canvas"><title>Canvas Layout Preferences</title>
      <para>
	This allows you to switch the layout of the three views
	(transverse, coronal, and sagittal) between a linear style
	layout more commonly seen in PET software, and an orthogonal
	style layout more commonly seen in MRI software.
      </para>
    </sect3>
    
  </sect2>

</sect1>




  
  
  <!-- Keep this comment at the end of the file
  Local variables:
  mode: sgml
  sgml-omittag:t
  sgml-shorttag:t
  sgml-minimize-attributes:nil
  sgml-always-quote-attributes:t
  sgml-indent-step:2
  sgml-indent-data:t
  sgml-parent-document:nil
  sgml-exposed-tags:nil
  sgml-local-catalogs:nil
  sgml-local-ecat-files:nil
  End:
  -->            

